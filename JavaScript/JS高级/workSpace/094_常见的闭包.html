<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        常见的闭包
        闭包的作用
    </title>
</head>
<body>
<!--
    1.将函数作为另一个函数的返回值
    2.将函数作为实参传递给另一个函数调用
-->
<!--
    1.使用函数内部的变量在函数执行完后，仍然存活在内存中（延长了局部变量的生命周期）
    2.让函数外部可以操作（读写）到函数内部的数据（变量／函数）

    问题：
        1.函数执行完后，函数内部声明的局部变量是否还存在？ 一般是不存在的，存在于闭包中的变量才可能存在
        2.在函数外部能直接访问函数内部的局部变量吗？ 不能，但我们可以通过闭包让外部操作它
-->
<!--1.将函数作为另一个函数的返回值-->
    <script type="text/javascript">
        function fn1() {
            var a = 2
            function fn2(){
                a++
                console.log(a)
            }
            return fn2
        }
        var f = fn1() // 调用fn1（）使f = fn2  因为f指向了内部函数对象
                        // ，所以fn2这个变量释放了，但函数对象没有消失
                        //，应为内部的函数对象调用了a（a已经相当于内部函数对象的一个属性）
                        // ，所以a不会消失
        f() // 实际上调用的是内部函数
        f()
    </script>
<!--2.将函数作为实参传递给另一个函数调用-->
    <script type="text/javascript">
        function showDelay(msg, time){
            setTimeout(function(){
                alert(msg)
            }, time)
        }
        showDelay('atguigu', 2000)
    </script>
</body>
</html>